---
import { TodoList } from "../components/TodoList";
import { Todo } from "../components/types";
const req = Astro.request;
// const txt = await req.text();
const forms = await req.text();
const data = new URL("http://localhost?"+forms).searchParams;
console.log("data", data.get('todo-item'));
const todoItem = data.get('todo-item');
console.log("req.body===>", todoItem);
// const data = await req.formData();
// const todoText = data.get("todo");
const todos:Todo[] = [
	{ id: 'todo-1', text: 'Learn Astro' },
	{ id: 'todo-2', text: 'Build something amazing' },
	{ id: 'todo-3', text: 'Deploy it to the web' },
].filter(v=>v.id !== todoItem);
const idBase = 4;
---
<TodoList todos={todos} idBase={idBase}/>